$dark-bg: #201E1A;
$layer-color: lighten($dark-bg, 4%);
$layer-hovered-color: lighten($dark-bg, 6%);
$divider-color: black;
$white: #FFFFFF;

$text-color: rgba($white, 0.6);
$header-color: rgba($white, 0.7);
$accent-color: #B4812C;
$link-color: $accent-color;

$nav-color: rgba($white, 0.2);
$nav-hover-color: rgba($white, 0.4);


p {
    text-align: justify;
};

.book-summary ul.summary li.header {
    padding-top: 40px;
};

.book.font-family-1 {
    font-family: Quicksand, "Helvetica Neue", Helvetica, Arial, sans-serif !important;
};


.book.color-theme-2 {
    .book-body {
        background: $dark-bg;
    };
    
    .book-body .page-wrapper .page-inner section {
        background: transparent;
    };
    
    .book-summary {
        background: $dark-bg; // lighten($dark-bg,4%);
    };
    
    .book-body .page-wrapper {
        .page-inner section.normal {
            p, ul, h1, h2, h3, h4, h5 {
                transition: opacity 0.2s;
            }
        }
        .page-inner section.normal {
            h1 { font-size: 40px; font-weight: 100 };
            h2 { font-size: 30px; font-weight: 100; margin-top: 50px };
            p, ul, h1, h2, h3, h4, h5 {
                transition: opacity 0.2s;
            }
        }
        .page-inner section.normal {
            p, ul              { color: $text-color  ; opacity: 1; }
            h1, h2, h3, h4, h5 { color: $header-color; opacity: 1; }
            h6                 { color: rgba(white,0.2); opacity: 1;}
        }
        &.comments-open .page-inner section.normal {
            p,ul{&:not(.has-comments-open) { opacity: 0.3; }}
            h1, h2, h3, h4, h5, h6         { opacity: 0.3; }
        }
    }
    
    .markdown-section h1
    
    // search
    #book-search-input {
        border: 0;
        margin: 0;
    }
    
    // menu
    .book-summary {
        border-right: 2px solid $divider-color;
        ul.summary li { 
            &.header {
                color: $header-color;
                font-size: 20px;
                font-weight: 100;
                     
            }
            a,span {
                transition: color 0.2s;
            }
            &.divider { 
                display: none !important; // without important it shows after reload
            }
            &.active > a, a:hover {
                background: transparent;
                color: $header-color !important;
                text-decoration: none;
                font-weight: normal;
            }
            a,span {
                font-weight: normal;
                color: rgba($white, 0.2) !important;
            }
        }
        ul.summary > :first-child { display: none !important; } // Hide link to gitbook book page. Without important it shows after reload.
        
        // TODO: how to make "published with gitbook" on the bottom even when scroll is up?
        // TODO: nice scroll
    }


    // top bar
    .book-header {
        .btn {        color: $nav-color;
            &:hover { color: $nav-hover-color; }
        }
        h1 { display: none; }
    }
    
    // left / right arrows
    .book-body .navigation {
        transition: color 0.2s;
        color: rgba($white,0);
        &:hover { color : $nav-color; }
    }
    
    
    // drop-downs
    .dropdown-menu {
        border: 0;
        background-color: $layer-color;
         
        // the triangle
        .dropdown-caret .caret-inner {
            border-bottom-color: $layer-color;
        }
    }
    
    // links
    .book-body .page-wrapper .page-inner section.normal a {
        color: $link-color;
    }
    
    // comments
    .book-body .page-wrapper .page-inner .comments-section { 
        // removing text highlight
        &.has-comments-open {
            background: none;
        }

        // comment add icon
        .comments-icon {
            transition: opacity 0.2s;
            display: block;
            opacity: 0;
            &:hover { opacity: 1 };
            .marker {
                background: $layer-color;
                color: $dark-bg;
                font-weight: 900;
                &:hover {
                    background: $layer-hovered-color;
                }
            }
        }
    }
    
    // info, warning, error cards
    .markdown-section blockquote {
        padding: 15px;
        border: 0;
        border-radius: 15px;
        background: #245C88 !important;
        color: $text-color !important;
    }
    
    // anchors
    .anchorjs-link { 
        transition: color 0.2s, opacity 0.2s;
        color: $nav-color !important;
        &:hover { color: $nav-hover-color !important; }
        text-decoration: none;
    }
}